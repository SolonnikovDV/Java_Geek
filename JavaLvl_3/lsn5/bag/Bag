package lsn5.HomeWorkDoing.Bag;

import java.util.*;

// перечень предметов, выбранный пользователем
// данный перечень подлежит проверке при наполнении рюкзака
public class Bag {
    public List<Item> bag = new ArrayList<>();
    private double capacity; // предел вместимости
    private double currentWeight; // текущая заполненность
    private int currentItem; // текущее количество предметов
    Item first;

    public Bag(double capacity) {
        this.capacity = capacity;
        this.first = null;
    }

    // метод добавления премета в лист пользоваеля
    public void insert(Item item) {
        item.next = first;
        first = item;
    }


    public Boolean checkInsert(Item item) {
        if ((currentWeight + item.getWeight()) > capacity) return false;
        else return true;
    }

    // метод, которы наполняет массив выбраными пользователм элементами
    public void fillBag(List<Item> items) {
        Collections.sort(items);

        while (currentItem < items.size()) {
            if (this.checkInsert(items.get(currentItem))) {
                bag.add(items.get(currentItem)); // добавляем элемент
                currentWeight += items.get(currentItem).getWeight(); // увеличиваем текущий вес рюкзака
            }
            if(currentWeight == capacity) {
                break;
            }
            ++currentItem; // увиличиваем количество предметов в рюкзаке
        }
    }

    // метод вывода списка в консоль
    public void display() {
        Item current = first;
        while (current != null) {
            current.print();
            current = current.next;
        }
    }

    public boolean isEmpty() {

        return first == null;
    }

}
